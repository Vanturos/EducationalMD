**SNMP (Простой протокол управления сетью)**  
SNMP (Simple Network Management Protocol) — это протокол, созданный для мониторинга сетевых устройств и управления их настройками удаленно. Он используется для управления такими устройствами, как маршрутизаторы, коммутаторы, серверы, IoT-устройства и другие. Текущая версия протокола — SNMPv3, которая повышает безопасность, но усложняет использование.

SNMP использует UDP-порт 161 для передачи команд управления через агентов, позволяя клиенту устанавливать значения и изменять настройки устройства. Помимо запроса данных от сервера, SNMP позволяет использовать ловушки (traps) через UDP-порт 162, которые сервер отправляет клиенту при наступлении определенных событий.

Для обмена данными SNMP использует уникальные адреса SNMP-объектов, которые известны обеим сторонам.

**MIB (База управления информацией)**  
Для обеспечения совместимости SNMP между разными устройствами используется MIB (Management Information Base) — текстовый файл, в котором перечислены все SNMP-объекты устройства в иерархическом дереве. Каждый объект имеет уникальный идентификатор (OID), который содержит адрес, имя, тип данных, права доступа и описание объекта.

**OID (Идентификатор объекта)**  
OID (Object Identifier) представляет собой узел в иерархическом пространстве имен, где каждый узел идентифицируется последовательностью чисел, разделенных точками.

**SNMPv1**  
Первая версия SNMP, все еще используется в небольших сетях. Основные недостатки — отсутствие аутентификации и шифрования, из-за чего данные передаются в открытом виде.

**SNMPv2**  
SNMPv2c — наиболее распространенная версия. Она обеспечивает тот же уровень безопасности, что и SNMPv1, с добавлением новых функций, но без шифрования.

**SNMPv3**  
SNMPv3 значительно повышает безопасность за счет аутентификации и шифрования данных, но сложность настройки возрастает.

**Строки сообщества (Community Strings)**  
Строки сообщества — это своего рода пароли, которые определяют, можно ли просматривать запрашиваемую информацию. Проблемы безопасности связаны с тем, что строки передаются в открытом виде.

**Конфигурация SNMP-демона**  
Пример конфигурации SNMP-демона (файл `/etc/snmp/snmpd.conf`):
```bash
sysLocation    Sitting on the Dock of the Bay
sysContact     Me <me@example.org>
sysServices    72
master  agentx
agentaddress  127.0.0.1,[::1]
view   systemonly  included   .1.3.6.1.2.1.1
view   systemonly  included   .1.3.6.1.2.1.25.1
rocommunity  public default -V systemonly
rocommunity6 public default -V systemonly
rouser authPrivUser authpriv -V systemonly
```

**Опасные настройки**  
Некоторые опасные конфигурации SNMP:
- `rwuser noauth`: Полный доступ к дереву OID без аутентификации.
- `rwcommunity <строка сообщества> <IPv4-адрес>`: Полный доступ независимо от источника запроса.
- `rwcommunity6 <строка сообщества> <IPv6-адрес>`: Аналогично, но для IPv6.

**Футпринтинг SNMP**  
Для сканирования SNMP можно использовать утилиты `snmpwalk`, `onesixtyone` и `braa`.

Пример использования `snmpwalk`:
```bash
snmpwalk -v2c -c public 10.129.14.128
```
Результат может содержать информацию о системе, установленном ПО и другие данные.

Для брутфорса строк сообщества можно использовать `onesixtyone`:
```bash
onesixtyone -c /opt/useful/SecLists/Discovery/SNMP/snmp.txt 10.129.14.128
```
После получения строки сообщества можно использовать `braa` для брутфорса OID:
```bash
braa public@10.129.14.128:.1.3.6.*
```
